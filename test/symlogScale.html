<!DOCTYPE html>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->


<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="lib/simpleRequire.js"></script>
        <script src="lib/config.js"></script>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/facePrint.js"></script>
        <script src="lib/testHelper.js"></script>
        <link rel="stylesheet" href="lib/reset.css" />
    </head>
    <body>
        <style>
            html, body, #main2, #main3 {
                width: 100%;
                height: 100%;
            }
            .test-title {
                background: #146402;
                color: #fff;
            },
        </style>

        <!-- Thanks to <https://github.com/Truantboy>, see: #7718. -->

        <div id="main0"></div>
        <div id="main1"></div>
        <div id="main2"></div>
        <div id="main3"></div>
        <div id="main4"></div>
        <script>

            require([
                'echarts'/*, 'map/js/china' */
            ], function (echarts) {


	         var chartarray = [];

                 window.onresize = function () {
		    for (let i = 0; i < chartarray.length; i++) {
                       chartarray[i].resize();
		    }
                 };

		 var option0 = {
		    title: {
		       text: "Distribution of members balances (Scale 'value')",
		       left: 'center',
		    },
		    legend: {
		      show: false,
		    },
		    grid: {
		      top: '60',
		      bottom: '50',
		      left: '3%',
		      right: '70',
		      containLabel: true,
		    },
		    dataZoom: [
		      {
			 id: 'dataZoomX',
			 type: 'slider',
			 xAxisIndex: [0],
			 filterMode: 'none',
		      },
		      {
			 id: 'dataZoomY',
			 type: 'slider',
			 yAxisIndex: [0],
			 filterMode: 'none',
		      },
		      {
			 id: 'dataZoomInside',
			 type: 'inside',
		      },
		    ],
		    tooltip: {
		       trigger: 'item',
		       axisPointer: {
			 type: 'cross',
		       },
		       formatter: function(object) {
			  if (object.componentType == "series") {
			     // xaxis
			     var eur = parseFloat(object.data[0]).toFixed(2) + ' €';
			     // yaxis 0
			     var value = object.data[1];
			     var name = object.seriesName;
			     return value + ' ' + name + ' ' + eur;
			  } else if (object.componentType == "markLine") {
			     return "";
			  } else {
			     console.log("tooltip: object %p", object);
			     return "";
			  }
		       },
		    },
		    xAxis: {
		       type: 'value',
		       logBase: 1,
		       // splitNumber: 10,
		       splitLine: {
			  show: true,
		       },
		       minorTick: {
			  splitNumber: 2,
		       },
		       minorSplitLine: {
			  show: true,
		       },
		       axisTick: {
		       },
		       position: 'bottom',
		       // min: -1024,
		       // max: 1024,
		       axisLabel: {
			  formatter: function(value) {
			     var n = parseFloat(value).toFixed(2);
			     n = n.replace(/.00$/,'');
			     return n + ' €';
			  }
		       },
		       axisPointer: {
			  snap: true,
			  label: {
			     show: true,
			     formatter: function(object) {
				var n = parseFloat(object.value).toFixed(2);
				n = n.replace(/.00$/,'');
				return n + ' €';
			     }
			  }
		       },
		    },
		    yAxis: {
		       type: 'value',
		       logBase: 1,
		       // splitNumber: 10,
		       splitLine: {
			  show: true,
		       },
		       minorTick: {
			  splitNumber: 2,
		       },
		       minorSplitLine: {
			  show: true,
		       },
		       name: 'participants',
		       nameLocation: 'middle',
		       nameRotation: 90,
		       nameGap: 80,
		       nameTextStyle: {
			  fontWeight: 'bold',
		       },
		       min: 1,
		       // max: 512,
		       axisLabel: {
			  formatter: function(value) {
			     var n = parseFloat(value).toFixed(0);
			     return n;
			  }
		       },
		       axisPointer: {
			  snap: true,
			  label: {
			     show: true,
			     formatter: function(object) {
				var n = parseFloat(object.value).toFixed(0);
				return n;
			     }
			  }
		       },
		    },
		    toolbox: {
		       show: true,
		       right: 20,
		       feature: {
			  // dataView: {show: false, readOnly: true},
			  // magicType: {show: true, type: ['line', 'bar']},
			  dataZoom: { yAxisIndex: 'none' },
			  restore: {show: true},
			  saveAsImage: {show: true},
		       }
		    },
		    dataset: {
			 source: [
				      [ "balance", "count" ],

		      [ '712.00', 1 ], [ '366.00', 1 ], [ '343.00', 1 ], [ '300.00', 1 ],
		      [ '244.00', 1 ], [ '154.00', 1 ], [ '149.00', 1 ], [ '138.00', 1 ],
		      [ '135.00', 1 ], [ '121.00', 1 ], [ '120.00', 1 ], [ '111.00', 1 ],
		      [ '110.00', 1 ], [ '108.00', 1 ], [ '107.00', 1 ], [ '92.00', 1 ],
		      [ '90.00', 1 ], [ '86.00', 1 ], [ '84.00', 2 ], [ '80.00', 1 ],
		      [ '74.00', 1 ], [ '70.00', 1 ], [ '66.00', 1 ], [ '65.00', 1 ],
		      [ '64.00', 1 ], [ '58.00', 1 ], [ '56.00', 2 ], [ '55.00', 2 ],
		      [ '54.00', 1 ], [ '50.00', 1 ], [ '46.00', 1 ], [ '45.00', 1 ],
		      [ '41.00', 3 ], [ '40.00', 2 ], [ '38.00', 2 ], [ '37.00', 1 ],
		      [ '36.00', 2 ], [ '34.00', 1 ], [ '33.00', 1 ], [ '32.00', 1 ],
		      [ '30.00', 1 ], [ '29.00', 1 ], [ '27.00', 2 ], [ '26.00', 2 ],
		      [ '25.00', 3 ], [ '23.00', 1 ], [ '22.00', 2 ], [ '21.00', 3 ],
		      [ '20.00', 5 ], [ '19.00', 1 ], [ '18.00', 2 ], [ '17.00', 5 ],
		      [ '16.00', 1 ], [ '15.00', 8 ], [ '14.00', 6 ], [ '13.00', 5 ],
		      [ '12.00', 1 ], [ '11.00', 1 ], [ '10.00', 6 ], [ '9.00', 5 ],
		      [ '8.00', 3 ], [ '7.00', 1 ], [ '6.00', 5 ], [ '5.00', 18 ],
		      [ '4.00', 2 ], [ '3.00', 5 ], [ '2.00', 3 ], [ '1.00', 8 ],
		      [ '0.00', 335 ], [ '-1.00', 6 ], [ '-5.00', 44 ], [ '-6.00', 23 ],
		      [ '-7.00', 5 ], [ '-8.00', 5 ], [ '-9.00', 21 ], [ '-10.00', 3 ],
		      [ '-12.00', 1 ], [ '-13.00', 1 ], [ '-14.00', 2 ], [ '-15.00', 1 ],
		      [ '-17.00', 2 ], [ '-24.00', 1 ], [ '-40.00', 1 ], [ '-48.00', 1 ],
		      [ '-50.00', 1 ], [ '-52.00', 1 ], [ '-58.00', 1 ], [ '-71.00', 1 ],
		      [ '-72.00', 1 ], [ '-77.00', 1 ], [ '-83.00', 1 ], [ '-103.00', 1 ],
		      [ '-110.00', 1 ], [ '-169.00', 1 ], [ '-196.00', 1 ], [ '-288.00', 1 ],
		      [ '-896.00', 1 ],
			 ],
		    },
		    series: [
			 {
			    type: 'scatter',
			    smooth: true,
			    name: 'Members',
			    // showSymbol: false,
			    symbolSize: function (data) {
			       var size = 10 + Math.log(data[1]) * 8;
			       if (size > 64) {
				  size = 64;
			       }
			       // console.log("data: %o size %o", data, size);
			       return size;
			    },
			    itemStyle: {
			       borderColor: 'black',
			       borderWidth: 1,
			    },
			    emphasis: {
			       scale: 1.2,
			       itemStyle: {
				  shadowColor: 'rgba(0, 0, 0, 0.5)',
				  shadowBlur: 10,
				  borderColor: 'white',
				  borderWidth: 1,
			       }
			    },
			    encode: {
			       x: 0,
			       y: 1,
			    },
			    markLine: {
			       data: [
				 {
				    yAxis: 335,
				    lineStyle: {
				       // color: 'red',
				    },
				    label: {
				       formatter: function(object) {
					  return object.value;
				       },
				    },
				 },
			      ],
			    },
			 }
		    ],
		 };

		var testoption0 = {
		    // height: 500,
                    option: option0,
                    info: [ { xAsis: option0.xAxis }, { yAxis: option0.yAxis } ],
                    infoKey: 'Axis',
                    title: [
                        "scatter: Click buttons to change scale type and base.",
                    ],
                    button: [
		      {
                         text: "scale type 'value'.",
                         onClick: function () {
	                     title = "Distribution of members balances (Scale 'value')";
		             option0.title.text = title;
	                     option0.xAxis.type = 'value';
	                     option0.yAxis.type = 'value';
	                     testoption0.title = [ title ];
                             myChart0.setOption( option0 );
			     myChart0.__testHelper.updateInfo(testoption0.info, testoption0.key);
		         }
		      },
		      {
                         text: "scale type 'symlog' with base 2.",
                         onClick: function () {
	                     base = 2;
		             title = "Distribution of members balances (Scale 'symlog' Base 2)";
		             option0.title.text = title;
	                     option0.xAxis.type = 'symlog';
	                     option0.xAxis.logBase = base;
	                     option0.yAxis.type = 'symlog';
	                     option0.yAxis.logBase = base;
	                     testoption0.title = [ title ];
                             myChart0.setOption( option0 );
			     myChart0.__testHelper.updateInfo(testoption0.info, testoption0.key);
		         }
		      },
		      {
                         text: "scale type 'symlog' with base 10.",
                         onClick: function () {
	                     base = 10;
		             title = "Distribution of members balances (Scale 'symlog' Base 10)";
		             option0.title.text = title;
	                     option0.xAxis.type = 'symlog';
	                     option0.xAxis.logBase = base;
	                     option0.yAxis.type = 'symlog';
	                     option0.yAxis.logBase = base;
	                     testoption0.title = [ title ];
                             myChart0.setOption( option0 );
			     myChart0.__testHelper.updateInfo(testoption0.info, testoption0.key);
		         }
		      },
		      {
                         text: "scale type 'log' with base 2.",
                         onClick: function () {
	                     base = 2;
		             title = "Distribution of members balances (Scale 'log' Base 2)";
		             option0.title.text = title;
	                     option0.xAxis.type = 'log';
	                     option0.xAxis.logBase = base;
	                     option0.yAxis.type = 'log';
	                     option0.yAxis.logBase = base;
	                     testoption0.title = [ title ];
                             myChart0.setOption( option0 );
			     myChart0.__testHelper.updateInfo(testoption0.info, testoption0.key);
		         }
		      },
		    ],
                };

		if (1) {
	            var myChart0 = testHelper.create(echarts, 'main0', testoption0);
		    chartarray.push(myChart0);
		}

		// ---------------------------------------------------------------------------

		const labelRight = {
                   position: 'right'
                };
		var option1 = {
		  title: {
		    text: 'Bar Chart with Negative Value'
		  },
		  tooltip: {
		    trigger: 'axis',
		    axisPointer: {
		      type: 'shadow'
		    }
		  },
		  grid: {
		    top: 80,
		    bottom: 30
		  },
		  xAxis: {
		    type: 'value',
	            logBase: 1,
		    position: 'top',
		    min: -0.5,
	            max: 0.5,
		    splitLine: {
		      lineStyle: {
			type: 'dashed'
		      }
		    }
		  },
		  yAxis: {
		    type: 'category',
		    axisLine: { show: false },
		    axisLabel: { show: false },
		    axisTick: { show: false },
		    splitLine: { show: false },
		    data: [
		      'ten',
		      'nine',
		      'eight',
		      'seven',
		      'six',
		      'five',
		      'four',
		      'three',
		      'two',
		      'one'
		    ]
		  },
		  series: [
		    {
		      name: 'Cost',
		      type: 'bar',
		      stack: 'Total',
		      label: {
			show: true,
			formatter: '{b}'
		      },
		      data: [
			{ value: -0.07, label: labelRight },
			{ value: -0.09, label: labelRight },
			0.2,
			0.44,
			{ value: -0.23, label: labelRight },
			0.08,
			{ value: -0.17, label: labelRight },
			0.47,
			{ value: -0.36, label: labelRight },
			0.18
		      ]
		    }
		  ]
		};
		var testoption1 = {
		    height: 500,
                    title: [
                        "Bar: Click buttons to change scale type and base.",
                    ],
                    option: option1,
                    info: [ { xAsis: option1.xAxis } ],
                    infoKey: 'Axis',
                    button: [
		      {
                         text: "scale type 'value'.",
                         onClick: function () {
		             option1.title.text = "Bar Chart with Negative Value (Scale 'value')";
			     option1.xAxis.type = 'value';
                             myChart1.setOption( option1 );
                             myChart1.setOption( option1 );
			     myChart1.__testHelper.updateInfo(testoption1.info, testoption1.key);
		         }
		      },
		      {
                         text: "scale type 'symlog' with base 2.",
                         onClick: function () {
		             option1.title.text = "Bar Chart with Negative Value (Scale 'symlog', Base 2)";
			     option1.xAxis.type = 'symlog';
			     option1.xAxis.logBase = 2;
                             myChart1.setOption( option1 );
                             myChart1.setOption( option1 );
			     myChart1.__testHelper.updateInfo(testoption1.info, testoption1.key);
                         }
                      },
		      {
                         text: "scale type 'symlog' with base 10.",
                         onClick: function () {
		             option1.title.text = "Bar Chart with Negative Value (Scale 'symlog', Base 10)";
			     option1.xAxis.type = 'symlog';
			     option1.xAxis.logBase = 10;
                             myChart1.setOption( option1 );
                             myChart1.setOption( option1 );
			     myChart1.__testHelper.updateInfo(testoption1.info, testoption1.key);
                         }
                      },
		      {
                         text: "scale type 'log' with base 2.",
                         onClick: function () {
		             option1.title.text = "Bar Chart with Negative Value (Scale 'log', Base 2)";
			     option1.xAxis.type = 'log';
			     option1.xAxis.logBase = 2;
                             myChart1.setOption( option1 );
                             myChart1.setOption( option1 );
			     myChart1.__testHelper.updateInfo(testoption1.info, testoption1.key);
                         }
                      },
		    ],
                };

		if (1) {
                   var myChart1 = testHelper.create(echarts, 'main1', testoption1);
		   chartarray.push(myChart1);
		}



	    var option2 = {
                    title: {
                        text: '对数轴示例',
                        x: 'center'
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: '{a} <br/>{b} : {c}'
                    },
                    legend: {
                        left: 'left',
                        //data: ['2的指数', '3的指数']
                    },
                    xAxis: [{
                        type: 'category',
                        name: 'x',
                        splitLine: {show: false},
                        data: ['一', '二', '三', '四', '五', '六', '七', '八', '九']
                    }],
                    yAxis: {
                        type: 'symlog',
			logBase: 10,
			// logC: 0.0000000001,
			alignTicks: true,
                        name: 'y',
                        scale: false
                    },
                    series: [
                    {
                        name: '3的指数',
                        type: 'line',
                        data: [1, 3, 9, 27, 81, 247, 741, 2223, 6669]
                    },
                    {
                        name: '2的指数',
                        type: 'line',
                        data: [1, 2, 4, 8, 16, 32, 64, 128, 256]
                    },
                    {
                        name: '0.1 的指数',
                        type: 'line',
                        data: [1, 0.1, 0.01, 1e-3, 1e-4, 1e-5, 1e-6, 1e-7, 1e-8]
                    }]
	        }
		var testoption2 = {
		    height: 500,
                    title: [
                        "Line: Click buttons to change scale type and base.",
                    ],
                    option: option2,
                    info: [ { yAsis: option2.yAxis } ],
                    infoKey: 'Axis',
                    button: [
		      {
                         text: "scale type 'value'.",
                         onClick: function () {
		             option2.title.text = "Scale 'value'";
			     option2.yAxis.type = 'value';
                             myChart2.setOption( option2 );
			     myChart2.__testHelper.updateInfo(testoption2.info, testoption2.key);
		         }
		      },
		      {
                         text: "scale type 'symlog' with base 2.",
                         onClick: function () {
		             option2.title.text = "Scale 'symlog', Base 2";
			     option2.yAxis.type = 'symlog';
			     option2.yAxis.logBase = 2;
                             myChart2.setOption( option2 );
			     myChart2.__testHelper.updateInfo(testoption2.info, testoption2.key);
                         }
                      },
		      {
                         text: "scale type 'symlog' with base 10.",
                         onClick: function () {
		             option2.title.text = "Scale 'symlog', Base 10";
			     option2.yAxis.type = 'symlog';
			     option2.yAxis.logBase = 10;
                             myChart2.setOption( option2 );
			     myChart2.__testHelper.updateInfo(testoption2.info, testoption2.key);
                         }
                      },
		      {
                         text: "scale type 'log' with base 2.",
                         onClick: function () {
		             option2.title.text = "Scale 'log', Base 2";
			     option2.yAxis.type = 'log';
			     option2.yAxis.logBase = 2;
                             myChart2.setOption( option2 );
			     myChart2.__testHelper.updateInfo(testoption2.info, testoption2.key);
                         }
                      },
		      {
                         text: "scale type 'log' with base 10.",
                         onClick: function () {
		             option2.title.text = "Scale 'log', Base 10";
			     option2.yAxis.type = 'log';
			     option2.yAxis.logBase = 10;
                             myChart2.setOption( option2 );
			     myChart2.__testHelper.updateInfo(testoption2.info, testoption2.key);
                         }
                      },
		    ],
                };

		if (1) {
                   var myChart2 = testHelper.create(echarts, 'main2', testoption2);
		   chartarray.push(myChart2);
		}

		var option3 = {
                    title: {
			text: 'Radar Chart'
		    },
                    angleAxis: {
                        type: 'category',
                        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        z: 10
                    },
                    tooltip: {
                    },
                    radiusAxis: {
			type: 'value',
                    },
                    polar: {
                        center: ['40%', '50%']
                    },
                    series: [{
                        type: 'bar',
                        data: [1, 2, '-', 3, 0, 8, 32],
                        coordinateSystem: 'polar',
                        barMaxWidth: '50%',
                        barMinHeight: 10
                    }]
		}

		var testoption3 = {
		    height: 500,
                    title: [
                        "Radar: Click buttons to change scale type and base.",
                    ],
                    option: option3,
                    info: [ { radiusAxis: option3.radiusAxis } ],
                    infoKey: 'radiusAxis',
                    button: [
		      {
                         text: "scale type 'value'.",
                         onClick: function () {
		             option3.title.text = "Scale 'value'";
			     option3.radiusAxis.type = 'value';
                             myChart3.setOption( option3 );
			     myChart3.__testHelper.updateInfo(testoption3.info, testoption3.key);
		         }
		      },
		      {
                         text: "scale type 'symlog' with base 2.",
                         onClick: function () {
		             option3.title.text = "Scale 'symlog', Base 2";
			     option3.radiusAxis.type = 'symlog';
			     option3.radiusAxis.logBase = 2;
                             myChart3.setOption( option3 );
			     myChart3.__testHelper.updateInfo(testoption3.info, testoption3.key);
                         }
                      },
		      {
                         text: "scale type 'symlog' with base 10.",
                         onClick: function () {
		             option3.title.text = "Scale 'symlog', Base 10";
			     option3.radiusAxis.type = 'symlog';
			     option3.radiusAxis.logBase = 10;
                             myChart3.setOption( option3 );
			     myChart3.__testHelper.updateInfo(testoption3.info, testoption3.key);
                         }
                      },
		      {
                         text: "scale type 'log' with base 2.",
                         onClick: function () {
		             option3.title.text = "Scale 'log', Base 2";
			     option3.radiusAxis.type = 'log';
			     option3.radiusAxis.logBase = 2;
                             myChart3.setOption( option3 );
			     myChart3.__testHelper.updateInfo(testoption3.info, testoption3.key);
                         }
                      },
		    ],
                };

		if (1) {
                   var myChart3 = testHelper.create(echarts, 'main3', testoption3);
		   chartarray.push(myChart3);
		}

		var option4 = {
                    title: {
			text: 'Polar Chart'
		    },
                    angleAxis: {
		       type: 'value',
		       min: 0,
		       max: 16,
                    },
                    tooltip: {
                    },
                    radiusAxis: {
                        type: 'category',
                        data: ['Day 1', 'Day 2', 'Day 3', 'Day 4'],
                        z: 10
                    },
                    polar: {
                        radius: [50, 200]
                    },
                    series: [{
                        type: 'bar',
                        data: [1, 2, 3, 4],
                        coordinateSystem: 'polar',
                        name: 'A',
                        stack: 'a'
                    }, {
                        type: 'bar',
                        data: [2, 4, 6, 8],
                        coordinateSystem: 'polar',
                        name: 'B',
                        stack: 'a'
                    }, {
                        type: 'bar',
                        data: [1, 2, 3, 4],
                        coordinateSystem: 'polar',
                        name: 'C',
                        stack: 'a'
                    }],
                    legend: {
                        show: true,
                        data: ['A', 'B', 'C']
                    }
                };

		var testoption4 = {
		    height: 500,
                    title: [
                        "Radar: Click buttons to change scale type and base.",
                    ],
                    option: option4,
                    info: [ { angleAxis: option4.angleAxis } ],
                    infoKey: 'angleAxis',
                    button: [
		      {
                         text: "scale type 'value'.",
                         onClick: function () {
		             option4.title.text = "Scale 'value'";
			     option4.angleAxis.type = 'value';
                             myChart4.setOption( option4 );
			     myChart4.__testHelper.updateInfo(testoption4.info, testoption4.key);
		         }
		      },
		      {
                         text: "scale type 'symlog' with base 2.",
                         onClick: function () {
		             option4.title.text = "Scale 'symlog', Base 2";
			     option4.angleAxis.type = 'symlog';
			     option4.angleAxis.logBase = 2;
                             myChart4.setOption( option4 );
			     myChart4.__testHelper.updateInfo(testoption4.info, testoption4.key);
                         }
                      },
		      {
                         text: "scale type 'symlog' with base 10.",
                         onClick: function () {
		             option4.title.text = "Scale 'symlog', Base 10";
			     option4.angleAxis.type = 'symlog';
			     option4.angleAxis.logBase = 10;
                             myChart4.setOption( option4 );
			     myChart4.__testHelper.updateInfo(testoption4.info, testoption4.key);
                         }
                      },
		      {
                         text: "scale type 'log' with base 2.",
                         onClick: function () {
		             option4.title.text = "Scale 'log', Base 2";
			     option4.angleAxis.type = 'log';
			     option4.angleAxis.logBase = 2;
                             myChart4.setOption( option4 );
			     myChart4.__testHelper.updateInfo(testoption4.info, testoption4.key);
                         }
                      },
		    ],
                };

		if (1) {
                   var myChart4 = testHelper.create(echarts, 'main4', testoption4);
		   chartarray.push(myChart4);
		}

            });
        </script>

    </body>
</html>
